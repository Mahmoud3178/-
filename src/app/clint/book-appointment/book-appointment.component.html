<!-- ✅ Header Section -->
<div class="provider-header text-end p-4 text-white">
  <div class="container d-flex justify-content-between align-items-center">
    <!-- معلومات الفني -->
    <div class="d-flex align-items-center gap-3">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ40QpYdhs70QxykdAn8AgTbhzuMbwdjE2s4w&s" class="rounded-circle" width="70" height="70" />
      <div>
        <h5 class="fw-bold text-brown mb-1">محمد علي</h5>
        <div class="small text-muted">(التقييمات: 28) 4.5 ⭐⭐⭐⭐⭐</div>
        <div class="badge bg-light text-success mt-1">
          <i class="bi bi-whatsapp"></i> 28 طلب منفذ
        </div>
      </div>
    </div>

    <!-- زر المفضلة -->
    <i class="bi bi-heart fs-5 text-dark"></i>
  </div>
</div>

<!-- ✅ Main Layout -->
<div class="container mt-4">
  <div class="row">

    <!-- ✅ Tabs تحت الصورة (يمين الصفحة) -->
    <div class="col-md-3">
      <div class="d-flex flex-column gap-2">
        <button class="btn tab-btn" [class.active-tab]="activeTab === 'overview'" (click)="activeTab = 'overview'">
          <i class="bi bi-eye"></i> نظرة عامة
        </button>
        <button class="btn tab-btn" [class.active-tab]="activeTab === 'reviews'" (click)="activeTab = 'reviews'">
          <i class="bi bi-chat-square-text"></i> التقييمات
        </button>
        <button class="btn tab-btn" [class.active-tab]="activeTab === 'works'" (click)="activeTab = 'works'">
          <i class="bi bi-tools"></i> الأعمال السابقة
        </button>
      </div>
    </div>

    <!-- ✅ المحتوى المتغير (نص الصفحة) -->
    <div class="col-md-6">
      <ng-container [ngSwitch]="activeTab">
        <!-- نظرة عامة -->
        <div *ngSwitchCase="'overview'" class="border p-3 rounded mb-3">
          <p class="fw-bold text-success mb-2">نظرة عامة</p>
          <p class="mb-1"><strong>القسم:</strong> الكهرباء</p>
          <p class="mb-1"><strong>سنوات الخبرة:</strong> 5 سنوات</p>
          <p class="mb-1"><strong>المحافظة:</strong> قنا</p>
          <p class="mb-1"><strong>مناطق الخدمة:</strong> مركز قنا - قنا الجديدة - قرية أولاد عمرو - قرية المحطة</p>
          <p class="mb-1"><strong>الخدمات المقدمة:</strong> صيانة لمبات - تجديد فيش - تأسيس كهرباء</p>
          <p class="mb-1"><strong>ساعات العمل:</strong> من 09:00 صباحاً إلى 09:00 مساءاً</p>
        </div>

        <!-- التقييمات -->
        <div *ngSwitchCase="'reviews'" class="border p-3 rounded mb-3">
          <p class="fw-bold text-success mb-3">التقييمات</p>
          <div *ngFor="let review of reviews" class="mb-3 border-bottom pb-2">
            <div class="d-flex justify-content-between">
              <div>
                <p class="fw-bold mb-1">{{ review.name }}</p>
                <p class="text-muted small mb-1">{{ review.department }} - {{ review.date }}</p>
                <div class="text-warning mb-1">
                  <i *ngFor="let star of [1,2,3,4,5]" class="bi" [ngClass]="star <= review.rating ? 'bi-star-fill' : 'bi-star'"></i>
                </div>
                <p class="small text-muted">{{ review.comment }}</p>
              </div>
              <img [src]="review.avatar" class="rounded-circle" width="40" height="40" />
            </div>
          </div>
          <button class="btn btn-outline-success w-100">عرض المزيد</button>
        </div>

        <!-- الأعمال السابقة -->
        <div *ngSwitchCase="'works'" class="border p-3 rounded">
          <p class="fw-bold text-success mb-3">الأعمال السابقة</p>
          <div *ngFor="let work of works" class="mb-4">
            <p class="fw-bold">{{ work.title }}</p>
            <p class="text-muted small">{{ work.description }}</p>
            <div class="row">
              <div *ngFor="let image of work.images" class="col-6 mb-2">
                <img [src]="image.src" class="img-fluid rounded" />
                <span class="badge bg-warning text-dark mt-1">{{ image.label }}</span>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>

    <!-- ✅ حجز موعد (شمال الصفحة) -->
    <div class="col-md-3 mb-4">
      <div class="border rounded shadow-sm p-3">
        <div class="bg-success text-white text-center py-2 rounded-top">حجز موعد</div>
        <div class="mt-3 text-end">
          <label class="fw-bold">اختر الموعد المناسب</label>
          <input type="date" [(ngModel)]="selectedDate" class="form-control text-end" />
        </div>
        <div class="mt-3 text-end">
          <p class="fw-bold small">الوقت المتاح ليوم {{ selectedDate | date: 'fullDate' }}</p>
          <div class="d-flex flex-wrap gap-2">
            <span *ngFor="let time of availableTimes" class="badge rounded-pill bg-light border p-2 small">
              {{ time }}
            </span>
          </div>
        </div>
        <div class="mt-3 d-flex gap-2">
          <button class="btn btn-outline-secondary flex-fill">إلغاء</button>
          <button class="btn btn-success flex-fill">تأكيد الحجز</button>
        </div>
      </div>
    </div>

  </div>
</div>
